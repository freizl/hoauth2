<html>
    <head>
        <link href="/main.css" rel="stylesheet"/>
    </head>
    <body>
        <h1>Hello OAuth2</h1>
        {{#idps}}
        <section class="login-with">

            {{^isLogin}}
            <a href="{{codeFlowUri}}">Login {{name}}</a>
            {{/isLogin}}

            {{#isLogin}}
            <h2>welcome to {{name}}</h2>
            {{#user}}
            <div class="result">Hello, {{name}}</div>
            {{/user}}
            <a href="/logout?idp={{name}}">Logout</a>
            {{/isLogin}}

        </section>
        {{/idps}}
        <h3>TODO</h3>
        <p>notes for StackExchange:
            1. the callback domain is localhost, have manually add port 9988;
            2. turns out `authGetBS'` escape access_token but it shall not
        </p>
    </body>
</html>
